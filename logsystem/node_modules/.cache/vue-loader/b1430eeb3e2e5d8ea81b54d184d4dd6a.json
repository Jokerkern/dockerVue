{"remainingRequest":"/home/p/logsystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/p/logsystem/src/views/Logorm.vue?vue&type=style&index=0&id=75a08c24&lang=stylus&scoped=true&","dependencies":[{"path":"/home/p/logsystem/src/views/Logorm.vue","mtime":1641360650432},{"path":"/home/p/logsystem/node_modules/css-loader/dist/cjs.js","mtime":1641372093372},{"path":"/home/p/logsystem/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1641372093156},{"path":"/home/p/logsystem/node_modules/postcss-loader/src/index.js","mtime":1641372092016},{"path":"/home/p/logsystem/node_modules/stylus-loader/index.js","mtime":1641372187901},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/vue-loader/lib/index.js","mtime":1641372092460}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLkxvZ29ybSB7DQogIGRpc3BsYXk6IGZsZXg7DQoNCiAgLkxvZ29ybS1sZWZ0IHsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICB9DQoNCiAgLkxvZ29ybS1yaWdodCB7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICB3aWR0aDogY2FsYygxMDAlIC0gMjAwcHgpOw0KICAgIHBhZGRpbmc6IDhweCAyNHB4Ow0KICAgIGZsZXg6IDE7DQogIH0NCn0NCg=="},{"version":3,"sources":["Logorm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Logorm.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"Logorm\">\r\n    <SideMenu class=\"Logorm-left\"></SideMenu>\r\n    <div class=\"Logorm-right\">\r\n      <el-row\r\n        ><el-col :span=\"12\">\r\n          <el-select v-model=\"value\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option> </el-select\r\n        ></el-col>\r\n        <el-col :span=\"8\"\r\n          ><el-input v-model=\"input\" placeholder=\"请输入内容\"></el-input\r\n        ></el-col>\r\n        <el-col :span=\"4\"\r\n          ><el-button type=\"submit\" @click=\"check\">确认</el-button></el-col\r\n        ></el-row\r\n      >\r\n      <!-- <div id=\"app\">\r\n      {{message}}\r\n      </div> -->\r\n      <el-table\r\n        :data=\"\r\n          message.slice((currentPage - 1) * pagesize, currentPage * pagesize)\r\n        \"\r\n      >\r\n        <el-table-column\r\n          prop=\"time\"\r\n          label=\"时间\"\r\n          width=\"250\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"logger\"\r\n          label=\"文件\"\r\n          width=\"250\"\r\n          align=\"center\"\r\n        ></el-table-column\r\n        ><el-table-column\r\n          prop=\"level\"\r\n          label=\"类别\"\r\n          column-key=\"date\"\r\n          width=\"200\"\r\n          align=\"center\"\r\n          :filters=\"[\r\n            { text: 'info', value: 'info' },\r\n            { text: 'debug', value: 'debug' },\r\n            { text: 'warning', value: 'warning' },\r\n            { text: 'error', value: 'error' },\r\n          ]\"\r\n          :filter-method=\"filterHandler\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"log\"\r\n          label=\"内容\"\r\n          width=\"400\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 20, 40]\"\r\n        :page-size=\"pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"message.length\"\r\n        align=\"center\"\r\n      >\r\n        //这是显示总共有多少数据\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SideMenu from \"./SideMenu.vue\";\r\nimport { Query } from \"@/request/user.js\";\r\nexport default {\r\n  name: \"Logorm\",\r\n  components: {\r\n    SideMenu,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: \"file\",\r\n          label: \"文件\",\r\n        },\r\n        {\r\n          value: \"level\",\r\n          label: \"级别\",\r\n        },\r\n\r\n        {\r\n          value: \"log\",\r\n          label: \"内容\",\r\n        },\r\n      ],\r\n      value: \"log\",\r\n      input: \"\",\r\n      message: [],\r\n      currentPage: 1,\r\n      pagesize: 10,\r\n    };\r\n  },\r\n  methods: {\r\n    check() {\r\n      //var data = \"/\"+this.input;\r\n      switch (this.value) {\r\n        case \"file\":\r\n          Query({ file: this.input }).then((res) => {\r\n            //console.log(res.data);\r\n            this.message = [];\r\n            this.message.push.apply(this.message, res.data);\r\n            //console.log(this.message);\r\n          });\r\n          break;\r\n        case \"level\":\r\n          Query({ level: this.input }).then((res) => {\r\n            //console.log(res.data);\r\n            this.message = [];\r\n            this.message.push.apply(this.message, res.data);\r\n            //console.log(this.message);\r\n          });\r\n          break;\r\n        case \"log\":\r\n          Query({ log: this.input }).then((res) => {\r\n            //console.log(res.data);\r\n            this.message = [];\r\n            this.message.push.apply(this.message, res.data);\r\n            //console.log(this.message);\r\n          });\r\n          break;\r\n      }\r\n      /*Query({log: this.input}).then((res) =>{\r\n            console.log(res.data);\r\n            this.message=[];\r\n            this.message.push.apply(this.message,res.data);\r\n            console.log(this.message);\r\n        })*/\r\n    },\r\n    filterHandler(value, row, column) {\r\n      const property = column[\"property\"];\r\n      return row[property] === value;\r\n    },\r\n    handleSizeChange: function (size) {\r\n      this.pagesize = size;\r\n      //console.log(size); //每页下拉显示数据\r\n    },\r\n    handleCurrentChange: function (event) {\r\n      this.currentPage = event; //每页下拉显示数据\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.Logorm {\r\n  display: flex;\r\n\r\n  .Logorm-left {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .Logorm-right {\r\n    box-sizing: border-box;\r\n    width: calc(100% - 200px);\r\n    padding: 8px 24px;\r\n    flex: 1;\r\n  }\r\n}\r\n</style>"]}]}