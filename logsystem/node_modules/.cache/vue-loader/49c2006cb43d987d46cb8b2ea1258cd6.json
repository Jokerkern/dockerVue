{"remainingRequest":"/home/p/logsystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/p/logsystem/src/views/Logorm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/p/logsystem/src/views/Logorm.vue","mtime":1641360650432},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/babel-loader/lib/index.js","mtime":1641372092024},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/vue-loader/lib/index.js","mtime":1641372092460}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2lkZU1lbnUgZnJvbSAiLi9TaWRlTWVudS52dWUiOw0KaW1wb3J0IHsgUXVlcnkgfSBmcm9tICJAL3JlcXVlc3QvdXNlci5qcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMb2dvcm0iLA0KICBjb21wb25lbnRzOiB7DQogICAgU2lkZU1lbnUsDQogIH0sDQoNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgb3B0aW9uczogWw0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICJmaWxlIiwNCiAgICAgICAgICBsYWJlbDogIuaWh+S7tiIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogImxldmVsIiwNCiAgICAgICAgICBsYWJlbDogIue6p+WIqyIsDQogICAgICAgIH0sDQoNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAibG9nIiwNCiAgICAgICAgICBsYWJlbDogIuWGheWuuSIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgdmFsdWU6ICJsb2ciLA0KICAgICAgaW5wdXQ6ICIiLA0KICAgICAgbWVzc2FnZTogW10sDQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIHBhZ2VzaXplOiAxMCwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hlY2soKSB7DQogICAgICAvL3ZhciBkYXRhID0gIi8iK3RoaXMuaW5wdXQ7DQogICAgICBzd2l0Y2ggKHRoaXMudmFsdWUpIHsNCiAgICAgICAgY2FzZSAiZmlsZSI6DQogICAgICAgICAgUXVlcnkoeyBmaWxlOiB0aGlzLmlucHV0IH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBbXTsNCiAgICAgICAgICAgIHRoaXMubWVzc2FnZS5wdXNoLmFwcGx5KHRoaXMubWVzc2FnZSwgcmVzLmRhdGEpOw0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLm1lc3NhZ2UpOw0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJsZXZlbCI6DQogICAgICAgICAgUXVlcnkoeyBsZXZlbDogdGhpcy5pbnB1dCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gW107DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2UucHVzaC5hcHBseSh0aGlzLm1lc3NhZ2UsIHJlcy5kYXRhKTsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5tZXNzYWdlKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAibG9nIjoNCiAgICAgICAgICBRdWVyeSh7IGxvZzogdGhpcy5pbnB1dCB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2cocmVzLmRhdGEpOw0KICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gW107DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2UucHVzaC5hcHBseSh0aGlzLm1lc3NhZ2UsIHJlcy5kYXRhKTsNCiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5tZXNzYWdlKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBicmVhazsNCiAgICAgIH0NCiAgICAgIC8qUXVlcnkoe2xvZzogdGhpcy5pbnB1dH0pLnRoZW4oKHJlcykgPT57DQogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2U9W107DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2UucHVzaC5hcHBseSh0aGlzLm1lc3NhZ2UscmVzLmRhdGEpOw0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5tZXNzYWdlKTsNCiAgICAgICAgfSkqLw0KICAgIH0sDQogICAgZmlsdGVySGFuZGxlcih2YWx1ZSwgcm93LCBjb2x1bW4pIHsNCiAgICAgIGNvbnN0IHByb3BlcnR5ID0gY29sdW1uWyJwcm9wZXJ0eSJdOw0KICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOw0KICAgIH0sDQogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gKHNpemUpIHsNCiAgICAgIHRoaXMucGFnZXNpemUgPSBzaXplOw0KICAgICAgLy9jb25zb2xlLmxvZyhzaXplKTsgLy/mr4/pobXkuIvmi4nmmL7npLrmlbDmja4NCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGV2ZW50OyAvL+avj+mhteS4i+aLieaYvuekuuaVsOaNrg0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Logorm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Logorm.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"Logorm\">\r\n    <SideMenu class=\"Logorm-left\"></SideMenu>\r\n    <div class=\"Logorm-right\">\r\n      <el-row\r\n        ><el-col :span=\"12\">\r\n          <el-select v-model=\"value\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option> </el-select\r\n        ></el-col>\r\n        <el-col :span=\"8\"\r\n          ><el-input v-model=\"input\" placeholder=\"请输入内容\"></el-input\r\n        ></el-col>\r\n        <el-col :span=\"4\"\r\n          ><el-button type=\"submit\" @click=\"check\">确认</el-button></el-col\r\n        ></el-row\r\n      >\r\n      <!-- <div id=\"app\">\r\n      {{message}}\r\n      </div> -->\r\n      <el-table\r\n        :data=\"\r\n          message.slice((currentPage - 1) * pagesize, currentPage * pagesize)\r\n        \"\r\n      >\r\n        <el-table-column\r\n          prop=\"time\"\r\n          label=\"时间\"\r\n          width=\"250\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"logger\"\r\n          label=\"文件\"\r\n          width=\"250\"\r\n          align=\"center\"\r\n        ></el-table-column\r\n        ><el-table-column\r\n          prop=\"level\"\r\n          label=\"类别\"\r\n          column-key=\"date\"\r\n          width=\"200\"\r\n          align=\"center\"\r\n          :filters=\"[\r\n            { text: 'info', value: 'info' },\r\n            { text: 'debug', value: 'debug' },\r\n            { text: 'warning', value: 'warning' },\r\n            { text: 'error', value: 'error' },\r\n          ]\"\r\n          :filter-method=\"filterHandler\"\r\n        ></el-table-column>\r\n        <el-table-column\r\n          prop=\"log\"\r\n          label=\"内容\"\r\n          width=\"400\"\r\n          align=\"center\"\r\n        ></el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-sizes=\"[5, 10, 20, 40]\"\r\n        :page-size=\"pagesize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"message.length\"\r\n        align=\"center\"\r\n      >\r\n        //这是显示总共有多少数据\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SideMenu from \"./SideMenu.vue\";\r\nimport { Query } from \"@/request/user.js\";\r\nexport default {\r\n  name: \"Logorm\",\r\n  components: {\r\n    SideMenu,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: \"file\",\r\n          label: \"文件\",\r\n        },\r\n        {\r\n          value: \"level\",\r\n          label: \"级别\",\r\n        },\r\n\r\n        {\r\n          value: \"log\",\r\n          label: \"内容\",\r\n        },\r\n      ],\r\n      value: \"log\",\r\n      input: \"\",\r\n      message: [],\r\n      currentPage: 1,\r\n      pagesize: 10,\r\n    };\r\n  },\r\n  methods: {\r\n    check() {\r\n      //var data = \"/\"+this.input;\r\n      switch (this.value) {\r\n        case \"file\":\r\n          Query({ file: this.input }).then((res) => {\r\n            //console.log(res.data);\r\n            this.message = [];\r\n            this.message.push.apply(this.message, res.data);\r\n            //console.log(this.message);\r\n          });\r\n          break;\r\n        case \"level\":\r\n          Query({ level: this.input }).then((res) => {\r\n            //console.log(res.data);\r\n            this.message = [];\r\n            this.message.push.apply(this.message, res.data);\r\n            //console.log(this.message);\r\n          });\r\n          break;\r\n        case \"log\":\r\n          Query({ log: this.input }).then((res) => {\r\n            //console.log(res.data);\r\n            this.message = [];\r\n            this.message.push.apply(this.message, res.data);\r\n            //console.log(this.message);\r\n          });\r\n          break;\r\n      }\r\n      /*Query({log: this.input}).then((res) =>{\r\n            console.log(res.data);\r\n            this.message=[];\r\n            this.message.push.apply(this.message,res.data);\r\n            console.log(this.message);\r\n        })*/\r\n    },\r\n    filterHandler(value, row, column) {\r\n      const property = column[\"property\"];\r\n      return row[property] === value;\r\n    },\r\n    handleSizeChange: function (size) {\r\n      this.pagesize = size;\r\n      //console.log(size); //每页下拉显示数据\r\n    },\r\n    handleCurrentChange: function (event) {\r\n      this.currentPage = event; //每页下拉显示数据\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.Logorm {\r\n  display: flex;\r\n\r\n  .Logorm-left {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .Logorm-right {\r\n    box-sizing: border-box;\r\n    width: calc(100% - 200px);\r\n    padding: 8px 24px;\r\n    flex: 1;\r\n  }\r\n}\r\n</style>"]}]}