{"remainingRequest":"/home/p/logsystem/node_modules/babel-loader/lib/index.js!/home/p/logsystem/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/p/logsystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/p/logsystem/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/p/logsystem/src/views/Home.vue","mtime":1641366438237},{"path":"/home/p/logsystem/babel.config.js","mtime":1641372103002},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/babel-loader/lib/index.js","mtime":1641372092024},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/vue-loader/lib/index.js","mtime":1641372092460}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNpZGVNZW51IGZyb20gIi4vU2lkZU1lbnUudnVlIjsgLy8gIDEu5byV5YWl5bem5L6n6I+c5Y2V57uE5Lu2CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIFNpZGVNZW51OiBTaWRlTWVudQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRhYmxlVGFic1ZhbHVlOiAiMCIsCiAgICAgIGVkaXRhYmxlVGFiczogW10sCiAgICAgIHRhYkluZGV4OiAwLAogICAgICBsb2dBcnI6IFtdLAogICAgICBjb250ZW50OiBbXSwKICAgICAgdGltZXI6ICIiLAogICAgICBwYWdlc2l6ZTogMTAsCiAgICAgIC8vICAgIOavj+mhteeahOaVsOaNrgogICAgICBzZWFyY2g6ICIiLAogICAgICBpbnB1dDogIiIsCiAgICAgIHZhbHVlMTogIiIsCiAgICAgIGlzQ29ubmVjdGVkOiB0cnVlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB2YXIgbG9nID0gdGhhdC4kc3RvcmUuc3RhdGUubG9nOyAvL2NvbnNvbGUubG9nKGxvZ1swXS5jb250ZW50KTsKCiAgICAgIGZvciAodmFyIGkgPSB0aGF0LmxvZ0Fyci5sZW5ndGg7IGkgPCBsb2cubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGF0LmxvZ0Fyci5wdXNoKGxvZ1tpXS50aXRsZSk7CiAgICAgICAgdmFyIG5ld1RhYk5hbWUgPSArK3RoYXQudGFiSW5kZXggKyAiIjsKICAgICAgICB0aGF0LmVkaXRhYmxlVGFicy5wdXNoKHsKICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgICAgLy/liJ3lp4vpobUKICAgICAgICAgIHRpdGxlOiBsb2dbaV0udGl0bGUsCiAgICAgICAgICBuYW1lOiBuZXdUYWJOYW1lLAogICAgICAgICAgY29udGVudDogW10KICAgICAgICB9KTsKICAgICAgICB0aGF0LmVkaXRhYmxlVGFic1ZhbHVlID0gbmV3VGFiTmFtZTsKICAgICAgICB0aGF0LmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IDA7IGkgPCBsb2cubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGF0LmVkaXRhYmxlVGFic1tpXS5jb250ZW50ID0gW10uY29uY2F0KGxvZ1tpXS5jb250ZW50KTsgLy9jb25zb2xlLmxvZyh0aGF0LmNvbnRlbnRbaV1bal0pOwogICAgICAgIC8vbG9nW2ldLmNvbnRlbnQgPSBbXTsKICAgICAgfQogICAgfSwgMTAwKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7Ly90aGlzLndlYlNvY2tldC5jbG9zZSgpOyAvL+emu+W8gOi3r+eUseS5i+WQjuaWreW8gHdlYnNvY2tldOi/nuaOpQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMucGFnZXNpemUgPSBzaXplOyAvL2NvbnNvbGUubG9nKHNpemUpOyAvL+avj+mhteS4i+aLieaYvuekuuaVsOaNrgogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UoaXRlbSwgZXZlbnQpIHsKICAgICAgaXRlbS5jdXJyZW50UGFnZSA9IGV2ZW50OyAvL+avj+mhteS4i+aLieaYvuekuuaVsOaNrgogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICB0aGlzLnNlYXJjaCA9IHRoaXMuaW5wdXQ7IC8vY29uc29sZS5sb2codGhpcy52YWx1ZTFbMF0uZ2V0VGltZSgpKQogICAgfSwKICAgIGZpbHRlckhhbmRsZXI6IGZ1bmN0aW9uIGZpbHRlckhhbmRsZXIodmFsdWUsIHJvdywgY29sdW1uKSB7CiAgICAgIHZhciBwcm9wZXJ0eSA9IGNvbHVtblsicHJvcGVydHkiXTsKICAgICAgcmV0dXJuIHJvd1twcm9wZXJ0eV0gPT09IHZhbHVlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 3. 使用组件 -->\n    <!-- 左侧菜单 - 区分文件类型 -->\n    <SideMenu class=\"home-left\"></SideMenu>\n    <!-- 右侧内容区 -->\n    <div class=\"home-right\">\n      <el-empty v-show=\"isConnected\" description=\"连接不到websocket\" class=\"empty\"></el-empty>\n      <el-tabs v-show=\"!isConnected\" v-model=\"editableTabsValue\" type=\"card\">\n        <el-tab-pane\n          v-for=\"item in editableTabs\"\n          :key=\"item.name\"\n          :label=\"item.title\"\n          :name=\"item.name\"\n          align=\"left\"\n        >\n          <el-row>\n            <el-col :span=\"18\">\n              <el-date-picker\n                v-model=\"value1\"\n                unlink-panels\n                size=\"mini\"\n                type=\"daterange\"\n                range-separator=\"至\"\n                start-placeholder=\"开始日期\"\n                end-placeholder=\"结束日期\"\n              >\n              </el-date-picker\n            ></el-col>\n            <el-col :span=\"4\"\n              ><el-input\n                v-model=\"input\"\n                size=\"mini\"\n                placeholder=\"输入关键字搜索\"\n                @change=\"handleSearch(item)\"\n              >\n                <el-button\n                  slot=\"append\"\n                  icon=\"el-icon-search\"\n                  @click=\"handleSearch\"\n                ></el-button> </el-input\n            >\n            </el-col>\n          </el-row>\n          <el-table\n            :data=\"\n              item.content\n                .filter(\n                  (data) =>\n                    !search ||\n                    data.message.toLowerCase().includes(search.toLowerCase())\n                )\n                .filter(\n                  (data) =>\n                    !value1 ||\n                    (new Date(data.date).getTime() - 28800000 >=\n                      value1[0].getTime() &&\n                      new Date(data.date).getTime() - 28800000 <=\n                        value1[1].getTime())\n                )\n                .slice(\n                  (item.currentPage - 1) * pagesize,\n                  item.currentPage * pagesize\n                )\n            \"\n          >\n            <el-table-column\n              prop=\"date\"\n              label=\"日期\"\n              width=\"250\"\n              align=\"center\"\n            ></el-table-column>\n            <el-table-column\n              prop=\"time\"\n              label=\"时间\"\n              width=\"250\"\n              align=\"center\"\n            ></el-table-column\n            ><el-table-column\n              prop=\"file\"\n              label=\"文件\"\n              width=\"200\"\n              align=\"center\"\n            ></el-table-column\n            ><el-table-column\n              prop=\"level\"\n              label=\"类别\"\n              column-key=\"date\"\n              width=\"200\"\n              align=\"center\"\n              :filters=\"[\n                { text: 'info', value: 'info' },\n                { text: 'debug', value: 'debug' },\n                { text: 'warning', value: 'warning' },\n                { text: 'error', value: 'error' },\n              ]\"\n              :filter-method=\"filterHandler\"\n            ></el-table-column>\n            <el-table-column\n              prop=\"message\"\n              label=\"内容\"\n              width=\"400\"\n              align=\"center\"\n            ></el-table-column>\n          </el-table>\n          <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange(item, $event)\"\n            :current-page.sync=\"item.currentPage\"\n            :page-sizes=\"[5, 10, 20, 40]\"\n            :page-size=\"pagesize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"\n              item.content\n                .filter(\n                  (data) =>\n                    !search ||\n                    data.message.toLowerCase().includes(search.toLowerCase())\n                )\n                .filter(\n                  (data) =>\n                    !value1 ||\n                    (new Date(data.date).getTime() - 28800000 >=\n                      value1[0].getTime() &&\n                      new Date(data.date).getTime() - 28800000 <=\n                        value1[1].getTime())\n                ).length\n            \"\n            align=\"center\"\n          >\n            //这是显示总共有多少数据\n          </el-pagination>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SideMenu from \"./SideMenu.vue\"; //  1.引入左侧菜单组件\nexport default {\n  name: \"home\",\n  components: {\n    SideMenu,\n  },\n  data() {\n    return {\n      editableTabsValue: \"0\",\n      editableTabs: [],\n      tabIndex: 0,\n      logArr: [],\n      content: [],\n      timer: \"\",\n      pagesize: 10, //    每页的数据\n      search: \"\",\n      input: \"\",\n      value1: \"\",\n      isConnected: true,\n    };\n  },\n  created() {\n  },\n  mounted() {\n    const that = this;\n    this.timer = setInterval(function () {\n      let log = that.$store.state.log;\n      //console.log(log[0].content);\n      for (var i = that.logArr.length; i < log.length; i++) {\n        that.logArr.push(log[i].title);\n        let newTabName = ++that.tabIndex + \"\";\n        that.editableTabs.push({\n          currentPage: 1, //初始页\n          title: log[i].title,\n          name: newTabName,\n          content: [],\n        });\n        that.editableTabsValue = newTabName;\n        that.isConnected = false;\n      }\n      for (i = 0; i < log.length; i++) {\n        that.editableTabs[i].content = [].concat(log[i].content);\n        //console.log(that.content[i][j]);\n        //log[i].content = [];\n      }\n    }, 100);\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  destroyed() {\n    //this.webSocket.close(); //离开路由之后断开websocket连接\n  },\n  methods: {\n    handleSizeChange: function (size) {\n      this.pagesize = size;\n      //console.log(size); //每页下拉显示数据\n    },\n    handleCurrentChange: function (item, event) {\n      item.currentPage = event; //每页下拉显示数据\n    },\n    handleSearch: function () {\n      this.search = this.input;\n      //console.log(this.value1[0].getTime())\n    },\n    filterHandler(value, row, column) {\n      const property = column[\"property\"];\n      return row[property] === value;\n    },\n  },\n};\n</script>\n<style lang=\"stylus\" scoped>\n.home {\n  // 使用flex布局 菜单居左固定宽度 右侧内容区域自适应宽度\n  display: flex;\n\n  .home-left {\n    box-sizing: border-box;\n  }\n\n  .home-right {\n    box-sizing: border-box;\n    width: calc(100% - 200px);\n    padding: 8px 24px;\n    flex: 1;\n  }\n\n  .empty{\n    text-align: center;\n    position: absolute;\n    top: 50%;\n    left: 55%;\n    transform: translate(-50%,-55%);\n  }\n}\n</style>\n\n"],"sourceRoot":"src/views"}]}