{"remainingRequest":"/home/p/logsystem/node_modules/babel-loader/lib/index.js!/home/p/logsystem/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/p/logsystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/p/logsystem/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/p/logsystem/src/App.vue","mtime":1641366403353},{"path":"/home/p/logsystem/babel.config.js","mtime":1641372103002},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/babel-loader/lib/index.js","mtime":1641372092024},{"path":"/home/p/logsystem/node_modules/cache-loader/dist/cjs.js","mtime":1641372091064},{"path":"/home/p/logsystem/node_modules/vue-loader/lib/index.js","mtime":1641372092460}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3ZWJTb2NrZXQ6IG51bGwsCiAgICAgIGxvZ0FycjogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5pbml0V2ViU29ja2V0KCk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMud2ViU29ja2V0LmNsb3NlKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkge30sCiAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge30sCiAgbWV0aG9kczogewogICAgaW5pdFdlYlNvY2tldDogZnVuY3Rpb24gaW5pdFdlYlNvY2tldCgpIHsKICAgICAgLy/liJ3lp4vljJZ3ZW9zb2NrZXQKICAgICAgdmFyIGxvY2FsaG9zdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpcF9hZGRyZXNzJyk7CiAgICAgIHZhciBwb3J0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInBvcnQiKTsKICAgICAgY29uc29sZS5sb2cobG9jYWxob3N0LCBwb3J0KTsKICAgICAgdGhpcy53ZWJTb2NrZXQgPSBuZXcgV2ViU29ja2V0KCJ3czovLyIgKyBsb2NhbGhvc3QgKyAiOiIgKyBwb3J0ICsgIiIpOwogICAgICB0aGlzLndlYlNvY2tldC5vbm9wZW4gPSB0aGlzLm9uT3BlbjsKICAgICAgdGhpcy53ZWJTb2NrZXQub25tZXNzYWdlID0gdGhpcy5vbk1lc3NhZ2U7CiAgICAgIHRoaXMud2ViU29ja2V0Lm9uZXJyb3IgPSB0aGlzLm9uRXJyb3I7CiAgICAgIHRoaXMud2ViU29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uQ2xvc2U7CiAgICB9LAogICAgb25NZXNzYWdlOiBmdW5jdGlvbiBvbk1lc3NhZ2UoZXZlbnQpIHsKICAgICAgdmFyIGxvZyA9IHRoaXMuY3V0U3RyaW5nKGV2ZW50KTsKCiAgICAgIGlmICghdGhpcy5sb2dBcnIuaW5jbHVkZXMobG9nLmZpbGUpKSB7CiAgICAgICAgdGhpcy5sb2dBcnIucHVzaChsb2cuZmlsZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VMb2cnLCB7CiAgICAgICAgICB0aXRsZTogbG9nLmZpbGUsCiAgICAgICAgICBjb250ZW50OiBbXQogICAgICAgIH0pOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlRmlsZScsIHsKICAgICAgICAgIHRpdGxlOiBsb2cuZmlsZSwKICAgICAgICAgIHRvdGFsOiAwCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBsb2dJbmRleCA9IHRoaXMubG9nQXJyLmluZGV4T2YobG9nLmZpbGUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZVRvdGFsJyk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlTG9nQ29udGVudCcsIHsKICAgICAgICBsb2dJbmRleDogbG9nSW5kZXgsCiAgICAgICAgbG9nOiBsb2cKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlRmlsZVRvdGFsJywgbG9nSW5kZXgpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZU1vbnRoVG90YWwnLCBuZXcgRGF0ZShsb2cuZGF0ZSkuZ2V0TW9udGgoKSk7CgogICAgICBzd2l0Y2ggKGxvZy5sZXZlbCkgewogICAgICAgIGNhc2UgImRlYnVnIjoKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnY2hhbmdlTGV2ZWxUb3RhbCcsIDApOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImluZm8iOgogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VMZXZlbFRvdGFsJywgMSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAid2FybmluZyI6CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZUxldmVsVG90YWwnLCAyKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJlcnJvciI6CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZUxldmVsVG90YWwnLCAzKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgY3V0U3RyaW5nOiBmdW5jdGlvbiBjdXRTdHJpbmcoZXZlbnQpIHsKICAgICAgdmFyIHN0ciA9IG5ldyBTdHJpbmcoKTsKICAgICAgdmFyIGFyciA9IG5ldyBBcnJheSgpOwogICAgICBzdHIgPSBldmVudC5kYXRhOwogICAgICBhcnIgPSBzdHIuc3BsaXQoIiAiKTsKICAgICAgdmFyIGxlbiA9IGFyclswXS5sZW5ndGggKyBhcnJbMV0ubGVuZ3RoICsgYXJyWzJdLmxlbmd0aCArIGFyclszXS5sZW5ndGggKyA0OwogICAgICByZXR1cm4gewogICAgICAgIGRhdGU6IGFyclswXS5zbGljZSgxLCBhcnJbMF0ubGVuZ3RoKSwKICAgICAgICB0aW1lOiBhcnJbMV0uc2xpY2UoMCwgYXJyWzFdLmxlbmd0aCAtIDEpLAogICAgICAgIGZpbGU6IGFyclsyXS5zbGljZSgxLCBhcnJbMl0ubGVuZ3RoIC0gMSksCiAgICAgICAgbGV2ZWw6IGFyclszXS5zbGljZSgxLCBhcnJbM10ubGVuZ3RoIC0gMSksCiAgICAgICAgbWVzc2FnZTogc3RyLnNsaWNlKGxlbikKICAgICAgfTsKICAgIH0sCiAgICBvbk9wZW46IGZ1bmN0aW9uIG9uT3BlbigpIHsKICAgICAgY29uc29sZS5sb2coIm9wZW4iKTsKICAgIH0sCiAgICBvbkVycm9yOiBmdW5jdGlvbiBvbkVycm9yKCkgewogICAgICBjb25zb2xlLmxvZygiZXJyb3IiKTsKICAgICAgdGhpcy5pbml0V2ViU29ja2V0KCk7CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgY29uc29sZS5sb2coImNsb3NlIik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"app\">\n    \n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n\n  data() {\n    return {\n      webSocket: null,\n      logArr: [],\n    };\n  },\n  created() {\n    this.initWebSocket();\n  },\n  destroyed() {\n    this.webSocket.close();\n  },\n  beforeDestroy(){\n  },\n  close() {\n   \n  },\n  methods: {\n    initWebSocket() {\n      //初始化weosocket\n      let localhost = localStorage.getItem('ip_address');\n      let port = localStorage.getItem(\"port\");\n      console.log(localhost, port);\n      this.webSocket = new WebSocket(\"ws://\" + localhost + \":\" + port + \"\");\n      this.webSocket.onopen = this.onOpen;\n      this.webSocket.onmessage = this.onMessage;\n      this.webSocket.onerror = this.onError;\n      this.webSocket.onclose = this.onClose;\n    },\n    onMessage(event) {\n      var log = this.cutString(event);\n      if (!this.logArr.includes(log.file)) {\n        this.logArr.push(log.file);\n        this.$store.commit('changeLog', {\n          title: log.file,\n          content: [],\n        });\n        this.$store.commit('changeFile', {\n          title: log.file,\n          total: 0,\n        });\n      }\n      var logIndex = this.logArr.indexOf(log.file);\n      this.$store.commit('changeTotal');\n      this.$store.commit('changeLogContent', {logIndex: logIndex, log: log});\n      this.$store.commit('changeFileTotal', logIndex);\n      this.$store.commit('changeMonthTotal', new Date(log.date).getMonth());\n      switch(log.level) {\n        case \"debug\":\n          this.$store.commit('changeLevelTotal', 0);\n          break;\n        case \"info\":\n          this.$store.commit('changeLevelTotal', 1);\n          break;\n        case \"warning\":\n          this.$store.commit('changeLevelTotal', 2);\n          break;\n        case \"error\":\n          this.$store.commit('changeLevelTotal', 3);\n          break;\n      }\n    },\n    cutString(event) {\n      var str = new String();\n      var arr = new Array();\n      str = event.data;\n      arr = str.split(\" \");\n      let len =\n        arr[0].length + arr[1].length + arr[2].length + arr[3].length + 4;\n      return {\n        date: arr[0].slice(1, arr[0].length),\n        time: arr[1].slice(0, arr[1].length - 1),\n        file: arr[2].slice(1, arr[2].length - 1),\n        level: arr[3].slice(1, arr[3].length - 1),\n        message: str.slice(len),\n      };\n    },\n    onOpen() {\n      console.log(\"open\");\n    },\n    onError() {\n      console.log(\"error\");\n      this.initWebSocket();\n    },\n    onClose() {\n      console.log(\"close\");\n    },\n  },\n}\n</script>"],"sourceRoot":"src"}]}